<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>프로젝트 파일 목록</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f9f9f9;
      color: #333;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      line-height: 1.6;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
      border-top: 1px solid #ddd;
    }
    li {
      border-bottom: 1px solid #ddd;
      padding: 12px 15px;
      transition: background-color 0.3s ease;
    }
    li:hover {
      background-color: #e3f2fd;
    }
    a {
      color: #2980b9;
      text-decoration: none;
      font-weight: 500;
    }
    a:hover {
      text-decoration: underline;
      color: #1c5980;
    }
    .loading {
      text-align: center;
      margin-top: 50px;
      font-size: 1.2rem;
      color: #777;
    }
  </style>
</head>
<body>
  <h1>프로젝트 파일 목록</h1>
  <div id="file-list">
    <p class="loading">파일 목록을 불러오는 중입니다...</p>
  </div>

  <script>
    // GitHub 저장소 정보 수정하세요
    const owner = 'mainug'; // 예: GitHub 사용자명
    const repo = 'pkdata26'; // 예: 저장소명
    const path = ''; // 빈 문자열 = 루트 폴더, 또는 'docs' 등 하위 폴더명

    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${path}`;

    async function fetchFileList() {
      const container = document.getElementById('file-list');
      try {
        const response = await fetch(apiUrl);
        if (!response.ok) throw new Error('API 호출 실패: ' + response.status);
        const data = await response.json();

        if (!Array.isArray(data)) {
          container.innerHTML = '<p>폴더가 비었거나 파일 목록을 가져올 수 없습니다.</p>';
          return;
        }

        const ul = document.createElement('ul');
        data.forEach(item => {
          if (item.type === 'file') {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = item.html_url; // GitHub 웹페이지 내 파일 링크
            a.target = '_blank';
            a.textContent = item.name;
            li.appendChild(a);
            ul.appendChild(li);
          }
        });

        container.innerHTML = '';  // 로딩 메시지 제거
        container.appendChild(ul);

      } catch (error) {
        container.innerHTML = `<p>오류 발생: ${error.message}</p>`;
      }
    }

    fetchFileList();
  </script>
</body>
</html>